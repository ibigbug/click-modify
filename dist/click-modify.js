define("./click-modify/1.0.0/click-modify",["jquery/1.8.2/jquery"],function(e,t,n){function i(e){if(!(this instanceof i))return new i(e);s(e)&&(e={trigger:e});var t={trigger:null,action:null,error:null,success:null,style:null,type:null,data:null,method:null};e&&r.extend(t,e);var n=r(t.trigger);t.action=t.action||o(n).action||"/post",t.method=t.method||"POST",t.style=t.style||{},t.prefix="click-modified",t.type=t.type||"textarea",t.data=t.data||{},this.settings=t,this.setup()}function s(e){return Object.prototype.toString.call(e)==="[object String]"}function o(e){var t={},n=e.parentsUntil("body"),r=n.length;for(var i=0;i<r;i++){var s=n.eq(i),o=s.attr("tagName");o&&o.toLowerCase=="form"&&(console.log(s),t.action=s.attr("action")),t.action=null}return t.name=e.attr("name"),t}var r=e("jquery/1.8.2/jquery");i.prototype.setup=function(){var e=r(this.settings.trigger),t=this;return e.addClass(this.settings.prefix),r.map(e,function(n,i){var s;t.settings.type=="input"?s=r("<input />"):s=r("<textarea></textarea>"),s.attr("id","cm-"+(new Date).getTime()),s.attr("for",r(n).attr("name")),s.addClass("click-modify-box");var o=r(n).offset(),u={left:o.left,top:o.top,width:e.width(),height:e.height(),display:"none"},a=r.extend(t.settings.style,u);s.css(a),s.val(r(n).html()),r(n).after(s),n.box=s,s.change(function(){this.changed=!0});var f={},l=r(n).attr("name");f[l]=r(s).val(),r.extend(f,t.settings.data),s.blur(function(){this.changed&&(r.ajax({type:t.settings.method,url:t.settings.action,data:f,error:t.settings.error||function(){},success:t.settings.success||function(){}}),this.changed=!1),r(n).html(n.box.val()).show(),n.box.hide()}),r(n).click(function(){r(this).hide(),this.box.show()})}),this},i.prototype.error=function(e){return e?(this.settings.error=e,this):this},i.prototype.success=function(e){return e?(this.settings.success=e,this):this},n.exports=i});